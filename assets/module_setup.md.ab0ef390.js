import{_ as s,c as a,o as l,O as e}from"./chunks/framework.e51d172d.js";const b=JSON.parse('{"title":"setup 模块","description":"","frontmatter":{},"headers":[],"relativePath":"module/setup.md","lastUpdated":1682044184000}'),o={name:"module/setup.md"},n=e('<h1 id="setup-模块" tabindex="-1">setup 模块 <a class="header-anchor" href="#setup-模块" aria-label="Permalink to &quot;setup 模块&quot;">​</a></h1><p><a href="https://docs.ansible.com/ansible/latest/collections/ansible/builtin/setup_module.html" target="_blank" rel="noreferrer">setup 模块</a> 用于收集远程主机的一些基本信息。</p><h2 id="常用参数" tabindex="-1">常用参数 <a class="header-anchor" href="#常用参数" aria-label="Permalink to &quot;常用参数&quot;">​</a></h2><p><strong><code>filter</code></strong> 参数：用于进行条件过滤。如果设置则仅返回匹配过滤条件的信息。</p><ul><li><code>ansible_all_ipv4_addresses</code> 仅显示ipv4的信息</li><li><code>ansible_devices</code> 仅显示磁盘设备信息</li><li><code>ansible_distribution</code> 显示是什么系统，例：centos,suse等</li><li><code>ansible_distribution_major_version</code> 显示是系统主版本</li><li><code>ansible_distribution_version</code> 仅显示系统版本</li><li><code>ansible_machine</code> 显示系统类型，例：32位，还是64位</li><li><code>ansible_eth0</code> 仅显示eth0的信息</li><li><code>ansible_hostname</code> 仅显示主机名</li><li><code>ansible_kernel</code> 仅显示内核版本</li><li><code>ansible_lvm</code> 显示lvm相关信息</li><li><code>ansible_memtotal_mb</code> 显示系统总内存</li><li><code>ansible_memfree_mb</code> 显示可用系统内存</li><li><code>ansible_memory_mb</code> 详细显示内存情况</li><li><code>ansible_swaptotal_mb</code> 显示总的swap内存</li><li><code>ansible_swapfree_mb</code> 显示swap内存的可用内存</li><li><code>ansible_mounts</code> 显示系统磁盘挂载情况</li><li><code>ansible_processor</code> 显示cpu个数(具体显示每个cpu的型号)</li><li><code>ansible_processor_vcpus</code> 显示cpu个数(只显示总的个数)</li></ul><h2 id="一些示例" tabindex="-1">一些示例 <a class="header-anchor" href="#一些示例" aria-label="Permalink to &quot;一些示例&quot;">​</a></h2><h3 id="获取主机地址" tabindex="-1">获取主机地址 <a class="header-anchor" href="#获取主机地址" aria-label="Permalink to &quot;获取主机地址&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">src/inventory.yml</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">setup</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">filter=ansible_all_ipv4_addresses</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><h3 id="获取主机内存信息" tabindex="-1">获取主机内存信息 <a class="header-anchor" href="#获取主机内存信息" aria-label="Permalink to &quot;获取主机内存信息&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">src/inventory.yml</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">setup</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">filter=ansible_memory_mb</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><h3 id="获取主机名" tabindex="-1">获取主机名 <a class="header-anchor" href="#获取主机名" aria-label="Permalink to &quot;获取主机名&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">src/inventory.yml</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">setup</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">filter=ansible_hostname</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><h3 id="获取操作系统类型" tabindex="-1">获取操作系统类型 <a class="header-anchor" href="#获取操作系统类型" aria-label="Permalink to &quot;获取操作系统类型&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ansible</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">src/inventory.yml</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">setup</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">filter=ansible_distribution</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div>',14),t=[n];function p(c,r,i,d,C,y){return l(),a("div",null,t)}const u=s(o,[["render",p]]);export{b as __pageData,u as default};
